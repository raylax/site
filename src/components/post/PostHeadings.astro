---
import { cn } from '@/utils/ss'
import type { MarkdownHeading } from 'astro'
import type { HTMLAttributes } from 'astro/types'
interface Props extends HTMLAttributes<'div'> {
  headings: MarkdownHeading[]
}

const { headings, class: className, ...props } = Astro.props
---

<div {...props} class={className}>
  <ul class={cn(className)}>
    {
      headings.map((heading) => (
        <li
          style={{ marginLeft: 20 * (heading.depth - 2) + 'px' }}
          class="my-1 text-base text-foreground/60 hover:underline hover:text-foreground/80"
        >
          <a href={`#${heading.slug}`}>{heading.text}</a>
        </li>
      ))
    }
  </ul>
</div>
